<!DOCTYPE html>
<!-- saved from url=(0066)http://85.122.23.37/BD/index.php?title=Laboratorul_4&printable=yes -->
<html lang="ro" dir="ltr" class="client-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>Laboratorul 4 - BD</title>
<meta name="generator" content="MediaWiki 1.25.2">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="http://85.122.23.37/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://85.122.23.37/BD/opensearch_desc.php" title="BD (ro)">
<link rel="EditURI" type="application/rsd+xml" href="http://85.122.23.37/BD/api.php?action=rsd">
<link rel="alternate" hreflang="x-default" href="http://85.122.23.37/BD/index.php/Laboratorul_4">
<link rel="copyright" href="https://creativecommons.org/licenses/by/3.0/">
<link rel="alternate" type="application/atom+xml" title="BD Abonare Atom" href="http://85.122.23.37/BD/index.php?title=Special:Schimb%C4%83ri_recente&amp;feed=atom">
<link rel="stylesheet" href="./Laboratorul 4 - BD_files/load.php">
<style>
.mw-collapsible-toggle{float:right;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}  .mw-content-ltr .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr .mw-collapsible-toggle{float:right} .mw-content-rtl .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl .mw-collapsible-toggle{float:left}.mw-customtoggle,.mw-collapsible-toggle{cursor:pointer} caption .mw-collapsible-toggle,.mw-content-ltr caption .mw-collapsible-toggle,.mw-content-rtl caption .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr caption .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl caption .mw-collapsible-toggle{float:none} li .mw-collapsible-toggle,.mw-content-ltr li .mw-collapsible-toggle,.mw-content-rtl li .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr li .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}
/* cache key: my_wiki-WIKI_BD_:resourceloader:filter:minify-css:7:e1ffd603cbaaa5f1a36e0d13fe843535 */
.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left; overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.highlight{font-weight:bold}
/* cache key: my_wiki-WIKI_BD_:resourceloader:filter:minify-css:7:f8d0c6895ce3ae14434c16b8fca59432 */
.postedit-container{margin:0 auto;position:fixed;top:0;height:0;left:50%;z-index:1000;font-size:13px}.postedit-container:hover{cursor:pointer}.postedit{position:relative;top:0.6em;left:-50%;padding:.6em 3.6em .6em 1.1em;line-height:1.5625em;color:#626465;background-color:#f4f4f4;border:1px solid #dcd9d9;text-shadow:0 0.0625em 0 rgba(255,255,255,0.5);border-radius:5px;box-shadow:0 2px 5px 0 #ccc;-webkit-transition:all 0.25s ease-in-out;-moz-transition:all 0.25s ease-in-out;-ms-transition:all 0.25s ease-in-out;-o-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out}.skin-monobook .postedit{top:6em !important}.postedit-faded{opacity:0}.postedit-icon{padding-left:41px;  line-height:25px;background-repeat:no-repeat;background-position:8px 50%}.postedit-icon-checkmark{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABblBMVEUAAAD///////9PfTf///80aRdTgjn///9Feij///////////9Rfzf///////////9PfjZRgDh1o1xOfTb///////+bwYqLtnj///////9PfTa82K////9WhT6YxIL///9QgDdTgzr////////j7uDl7eLq8efi693k7OH///////9UhjuBr2rp9uRUhjr///9YljVKgir///9WiTlYjT3////9/v57vFlbkT5PjC9dlD/5/fhuq09stUTs9uhxuElctCpfnT1huDFloEZloUZmpENmvDZpvDxpvTxqvjxrvT5rvT9rwTxsqktswD5uwkBvuUdxw0NztFBztU9ztVBzwkp0tlJ1xkd2t1R3uVR4w1F4xk54x014yE15uVZ5v1R5xVB6v1R7yFJ8wVh9xVl9yFR9yVd9ylN+xVh+yFd/x1l/yFeAylmEx1+Ny2uY0Hqe04Wj1Ymv3Ze33qLD47TJ5L3O6cPU7Mrq9eb2+/Q4j37OAAAAQHRSTlMAAQIEBAUFBQwPFB4fJCUoKiosQEhJS01RUlZZXmdydXaChYuSlJSWmJmoq6uur8LExcvM19fg5ejt8fX2+Pr7SljgewAAAKpJREFUGBkFwQNCAwAAAMDLtl3LtrG4rWXbtvX77gAgZ6grFwC0bhwNVgKgdPZx8b0dgLi+s7Wn0VoAqpfOI9+BNADZI7fLrz2pSEwGHZuH+78lSK8ZLkLezF3ooyUG3VPXq2USei9WngeyoG195yBYWDF3E/2pAhl1e9Gr8bGT+bfOFCC2fnvh4X7rcqIAQNNu+HT6sxkAjceTL/2ZAIhv+PorBwBJxfkA//dFHSCBy/UTAAAAAElFTkSuQmCC);background-image:url(http://85.122.23.37/BD/resources/src/mediawiki.action/images/green-checkmark.png?2015-08-10T21:21:40Z)!ie;background-position:left}.postedit-close{position:absolute;padding:0 .8em;right:0;top:0;font-size:1.25em;font-weight:bold;line-height:2.3em;color:black;text-shadow:0 0.0625em 0 white;text-decoration:none;opacity:0.2;filter:alpha(opacity=20)}.postedit-close:hover{color:black;text-decoration:none;opacity:0.4;filter:alpha(opacity=40)}
/* cache key: my_wiki-WIKI_BD_:resourceloader:filter:minify-css:7:566361dca40950cccc5906c4d76454b2 */</style><style>
.suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{color:black;text-decoration:none}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:white}.suggestions a.mw-searchSuggest-link .special-query{ overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}
/* cache key: my_wiki-WIKI_BD_:resourceloader:filter:minify-css:7:ae3fa4570b5ac0c6cf7b3776c8ae4d6f */</style><meta name="ResourceLoaderDynamicStyles" content="">
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: my_wiki-WIKI_BD_:resourceloader:filter:minify-css:7:4eedb904ce35ef0c8baac4b7176a0fb5 */</style>
<script src="./Laboratorul 4 - BD_files/load(1).php"></script><script src="./Laboratorul 4 - BD_files/load(2).php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Laboratorul_4","wgTitle":"Laboratorul 4","wgCurRevisionId":317,"wgRevisionId":317,"wgArticleId":12,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"ro","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t.",".\t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],"wgMonthNamesShort":["","ian","feb","mar","apr","mai","iun","iul","aug","sept","oct","nov","dec"],"wgRelevantPageName":"Laboratorul_4","wgRelevantArticleId":12,"wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"ro"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: my_wiki-WIKI_BD_:resourceloader:filter:minify-js:7:3f6eaa1d9b6729eb983fa77595a6da3e */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script><script src="./Laboratorul 4 - BD_files/load(3).php"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/BD/skins/Vector/csshover.min.htc")}</style><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Laboratorul_4 skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="ro">Laboratorul 4</h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">De la BD</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Salt la:					<a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#mw-head">navigare</a>, 					<a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#p-search">căutare</a>
				</div>
				<div id="mw-content-text" lang="ro" dir="ltr" class="mw-content-ltr"><p>Tematica: join - afișarea informațiilor din mai multe tabele
</p><p><br>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Cuprins</h2><span class="toctoggle">&nbsp;[<a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#" id="togglelink">ascunde</a>]&nbsp;</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#Produsul_cartezian_a_dou.C4.83_tabele"><span class="tocnumber">1</span> <span class="toctext">Produsul cartezian a două tabele</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#Joinul_natural_a_dou.C4.83_tabele"><span class="tocnumber">2</span> <span class="toctext">Joinul natural a două tabele</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#Alias_pentru_tabele"><span class="tocnumber">3</span> <span class="toctext">Alias pentru tabele</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#Join_extern"><span class="tocnumber">4</span> <span class="toctext">Join extern</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#Joinul_mai_multor_tabele"><span class="tocnumber">5</span> <span class="toctext">Joinul mai multor tabele</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#Self-joinul_-_joinul_unei_tabele_cu_ea_ins.C4.83.C8.99i"><span class="tocnumber">6</span> <span class="toctext">Self-joinul - joinul unei tabele cu ea insăși</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#Exercitii"><span class="tocnumber">7</span> <span class="toctext">Exercitii</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Produsul_cartezian_a_dou.C4.83_tabele">Produsul cartezian a două tabele</span></h2>
<p>Pentru a pune împreună informația din mai multe tabele avem la dispoziție două modalități:
</p>
<ol><li> utilizarea operatorilor pe mulțimi (gen reuniune, intersecție, diferență) care pun împreună rezultatele a două sau a mai multor interogări - discutați la laboratorul 2</li>
<li> utilizarea produsului cartezian si, derivat, a joinului.</li></ol>
<p>Toate frazele SELECT din cadrul laboratoarelor anterioare au utilizat în cadrul clauzei FROM o singură tabelă. Încercați însă, pe rand, următoarele interogări:
</p><p><code>SELECT * FROM studenti;</code> --cate linii sunt returnate?
</p><p><code>SELECT * FROM note;</code> --cate linii sunt returnate?
</p><p><code>SELECT * FROM studenti, note;</code> --cate linii sunt returnate? de ce?
</p><p><code>SELECT * FROM studenti, note WHERE prenume='Andrei';</code> --cate linii sunt returnate? de ce?
</p><p><code>SELECT * FROM studenti, note, cursuri;</code> --cate linii sunt returnate? de ce?
</p><p>Dacă în cadrul clauzei FROM sunt utilizate mai multe tabele, rezultatul este produsul cartezian al tuturor tabelelor. Numarul de linii returnate este produsul numarului de linii ale tabelelor.
</p><p>Interogările de mai sus în care în clauza FROM se află o listă de tabele este specifică Oracle. Pentru a realiza însă produsul cartezian și în alte SGBD-uri relaționale, se utilizează următoarea sintaxă care este standard limbajului SQL (valabilă și pentru Oracle, testati-o):
</p><p><code>SELECT * FROM studenti CROSS JOIN note</code> 
</p><p><code>SELECT * FROM studenti CROSS JOIN note WHERE prenume='Andrei';</code>
</p><p><code>SELECT * FROM studenti CROSS JOIN note CROSS JOIN cursuri;</code>
</p>
<h2><span class="mw-headline" id="Joinul_natural_a_dou.C4.83_tabele">Joinul natural a două tabele</span></h2>
<p>Înregistrările dintr-o tabelă își găsesc corespondentul în alt(e) tabel(e) prin intermediul unui atribut ce joacă rol de cheie străină trimițând la un atribut cu rol de cheie (proprietate de identificare unică) în tabela referențiată. De exemplu, în tabela <i>note</i> atributul <i>nr_matricol</i> are rolul de a identifica studentul din tabela <i>studenti</i> iar atributul <i>id_curs</i> identifică înregistrarea corespunzătoare din tabelul <i>cursuri</i>.
</p><p>Pentru a identifica notele unui anumit student nu este suficient să solicităm informația din ambele tabele - studenti si note (vezi exemplul anterior unde solicitând notele lui Andrei s-a realizat de fapt un produs cartezian conducând la un rezultat incorect), ci trebuie să specificăm și condiția de join - și anume atributul care joacă rol de cheie străină să fie egal cu atributul care joaca rol de identificare unică în tabelul referențiat:
</p><p><code>SELECT * FROM studenti, note WHERE studenti.nr_matricol = note.nr_matricol ORDER BY nume;</code> --cate inregistrari au fost returnate? de ce?
</p><p><br>
Din nou, formularea anterioară este specifică Oracle. Operația care s-a efectuat a fost joinul intern a două tabele, păstrându-se în rezultat acele linii din produsul cartezian care satisfac condiția impusă de clauza WHERE (pentru a înțelege operația de join este util să priviți joinul ca un produs cartezian urmat de selecție; în realitate sistemul tratează operația cu unul dintre algoritmii dedicați joinului - care vor fi explicati la curs). Versiunea admisă însă de standardul SQL și la care aderă cele mai multe sisteme de baze de date relaționale utilizează explicit cuvintele cheie JOIN...ON, după cum urmează:
</p><p><code>SELECT * FROM studenti JOIN note ON studenti.nr_matricol = note.nr_matricol ORDER BY nume;</code> 
</p><p><code>SELECT * FROM studenti JOIN note ON studenti.nr_matricol = note.nr_matricol WHERE prenume='Andrei'</code> --cate inregistrari au fost returnate? de ce?
</p><p><code>SELECT * FROM studenti JOIN note ON studenti.nr_matricol = note.nr_matricol WHERE prenume='Ioana';</code> --cate inregistrari au fost returnate? de ce?
</p><p>Fiindcă numele atributului cu rol de cheie străină și numele atributului cu rol de identificare unică referențiat coincid în exemplul prezentat, ele au fost prefixate de numele tabelului la care aparțin.
Ca alternativă, atunci când numele coloanei după care se face JOIN este identic în ambele tabele, condiţia de egalitate a acestora poate fi omisă dacă se foloseşte operaţia de Join natural:
</p><p><code>SELECT nume, prenume, valoare FROM studenti NATURAL JOIN note WHERE prenume='Ioana';</code>
</p>
<h2><span class="mw-headline" id="Alias_pentru_tabele">Alias pentru tabele</span></h2>
<p>De fiecare dată când într-o interogare apar mai multe tabele și ele conțin atribute cu același nume, orice referire la astfel de atribute trebuiesc prefixate de numele tabelei din care se dorește a fi citită valoarea.
</p><p>Încercați pe rand
</p><p><code>SELECT nume, prenume, valoare, nr_matricol FROM studenti JOIN note ON studenti.nr_matricol=note.nr_matricol WHERE prenume = 'Ioana';</code> --de ce nu functioneaza&nbsp;?
</p><p><code>SELECT nume, prenume, valoare, studenti.nr_matricol FROM studenti JOIN note ON studenti.nr_matricol = note.nr_matricol WHERE prenume = 'Ioana';</code>
</p><p>In cazul joinului natural, SGBD-ul ştie că între cele două coloane oricum se aplică operatorul de egalitate. In acest caz nu mai trebuie să prefixaţi numele coloanei cu numele tabelei:
</p><p><code>SELECT nume, prenume, valoare, nr_matricol FROM studenti NATURAL JOIN note  WHERE prenume='Ioana';</code>
</p><p>Orice utilizare a unui atribut a cărui nume se regăsește în mai multe tabele referențiate în interogare trebuie prefixat de numele tabelei (exceptie fac tabelele implicate în join natural). Dacă însă numele tabelelor este incomod a fi repetat, putem să dăm aliasuri simple acestora - specificate în clauza FROM imediat dupa numele tabelei. Identificarea atributelor în acest caz se face utilizand aliasul ca și prefix:
</p><p><code>SELECT nume, prenume, valoare, s.nr_matricol FROM studenti s JOIN note n ON s.nr_matricol = n.nr_matricol;</code>
</p><p>ATENȚIE: introducerea de aliasuri pentru numele tabelelor necesită utilizarea acestora oriunde e necesar în cadrul interogării.
</p><p>Încercați:
</p><p><code>SELECT nume, prenume, valoare, studenti.nr_matricol FROM studenti s JOIN note n ON s.nr_matricol = n.nr_matricol;</code>
</p>
<h2><span class="mw-headline" id="Join_extern">Join extern</span></h2>
<p>Să afișăm în mod distinct numele studenților din joinul între tabelele <i>studenti</i> și <i>note</i>:
</p><p><code>SELECT DISTINCT nume FROM studenti s NATURAL JOIN note n;</code>
</p><p>Câte înregistrări au fost returnate? Și câte nume distincte sunt în tabela studenti de fapt? De unde diferența?
</p><p>Sunt cazuri în care nu toate înregistrările dintr-o tabelă au corespondent în altă tabelă. În exemplul anterior, nu toți studenții au note. În cadrul joinului anterior s-a văzut cum înregistrările fără corespondent nu fac parte din mulțimea rezultat.
</p><p>In cazul în care se doreşte realizarea unui join între tabelele studenţi şi note, se poate observa că există studenţi care nu au încă note (fiind primul semestru, ei sunt înscrişi la cursurile din anul întâi dar nu au primit încă note). Spunem despre tabela note că este deficitară în informaţii deoarece nu conţine toate numerele matricole existente în tabela studenţi. Dacă se doreşte ca în rezultat să se regăsească şi studenţii fără note, se va utiliza un join extern.
</p><p>Joinul extern poate fi de mai multe tipuri: 
</p>
<ul><li> LEFT OUTER JOIN este utilizat atunci când se doreşte preluarea tuturor informaţiilor din tabela din stânga operatorului join (deci join in acest caz nu este comutativ) şi, eventual, aceste informaţii să fie completate (dacă se poate) cu informaţii din tabela deficitară în informaţii aflată în dreapta operatorului join. De exemplu: <code>SELECT DISTINCT nume FROM studenti s LEFT OUTER JOIN note n ON s.nr_matricol = n.nr_matricol;</code></li></ul>
<ul><li> RIGHT OUTER JOIN este similar dar de aceasta dată tabela deficitară în informaţii se va afla în dreapta. Se vor prelua toate informaţiile din tabela din dreapta şi se vor completa (atunci când se poate) cu informaţii din tabela din stânga. Ca şi exemplu putem schimba ordinea tabelelor din LEFT OUTER JOIN-ul anterior: <code> SELECT DISTINCT nume FROM note n RIGHT OUTER JOIN studenti s ON s.nr_matricol = n.nr_matricol;</code></li></ul>
<p>Cele două versiuni de join extern se pot realiza în Oracle și cu următoarea sintaxă:
</p><p><code>SELECT DISTINCT nume FROM studenti s, note n WHERE s.nr_matricol = n.nr_matricol(+);</code>
</p><p>Simbolul (+) se adaugă pe ramura deficitară în informații.
</p>
<ul><li> FULL OUTER JOIN este reuniunea celor de mai sus: sunt afişate toate informaţiile şi completate (eventual) cu informaţii din cealalta tabelă.</li></ul>
<p>Ce valori primesc în urma unui join extern înregistrările care nu au corespondent?
</p><p>Alte detalii la: <a rel="nofollow" class="external free" href="http://www.techonthenet.com/oracle/joins.php">http://www.techonthenet.com/oracle/joins.php</a>
</p><p>Schita a tipurilor de join: <a rel="nofollow" class="external free" href="http://i.stack.imgur.com/udQpD.jpg">http://i.stack.imgur.com/udQpD.jpg</a>
</p>
<h2><span class="mw-headline" id="Joinul_mai_multor_tabele">Joinul mai multor tabele</span></h2>
<p>În interogările anterioare am identificat notele tuturor studenților utilizând un join între două tabele - studenti și note. Cum aflăm însă la ce discipline au fost puse notele? Adăugăm în interogare un al treilea tabel, împreună cu condiția de join necesară:
</p>
<pre>SELECT nume, prenume, titlu_curs, valoare 
   FROM studenti s 
              JOIN note n ON s.nr_matricol=n.nr_matricol 
              JOIN cursuri c ON c.id_curs=n.id_curs
</pre>
<h2><span class="mw-headline" id="Self-joinul_-_joinul_unei_tabele_cu_ea_ins.C4.83.C8.99i">Self-joinul - joinul unei tabele cu ea insăși</span></h2>
<p>Uneori, modul în care este structurată informația în tabele ne pune în situația de a căuta corespondentul unor înregistrări chiar în același tabel. În cazul de față, un exemplu este determinarea colegilor de grupă pentru un anumit student. Oricând suntem în situația de a apela de două ori la un tabel într-o singură interogare, spunem că realizăm un <i>self-join</i>. În cazul unui self join tabela în cauză este apelată de două ori cu aliasuri distincte, ca și când ar exista două instanțe identice ale aceluiași tabel.
</p><p>Exemplu:
</p>
<pre>SELECT s.nume || ' ' || s.prenume || ' este coleg cu ' || colegi.nume || ' ' || colegi.prenume AS "Colegi de grupa" 
    FROM studenti s JOIN studenti colegi ON s.grupa=colegi.grupa AND s.an=colegi.an
    WHERE s.prenume='Andrei'
</pre>
<p>Cum eliminăm înregistrarea în care studentul apare coleg cu el însuși?
</p>
<h2><span class="mw-headline" id="Exercitii">Exercitii</span></h2>
<ol><li> Afişaţi studenţii şi notele pe care le-au luat si profesorii care le-au pus acele note.</li>
<li> Afisati studenţii care au luat nota 10 la materia 'BD'. Singurele valori pe care aveţi voie să le hardcodaţi în interogare sunt valoarea notei (10) şi numele cursului ('BD').</li>
<li> Afisaţi profesorii (numele şi prenumele) impreuna cu cursurile pe care fiecare le ţine. </li>
<li> Modificaţi interogarea de la punctul 3 pentru a fi afişaţi şi acei profesori care nu au încă alocat un curs (In prealabil rulaţi din nou scriptul aflat la adresa: <a rel="nofollow" class="external free" href="http://profs.info.uaic.ro/~vcosmin/BD/facultate.sql">http://profs.info.uaic.ro/~vcosmin/BD/facultate.sql</a> pentru a adăuga aceşti noi profesori).</li>
<li> Modificaţi interogarea de la punctul 3 pentru a fi afişate acele cursuri ce nu au alocate încă un profesor (după ce aţi rulat scriptul aflat la adresa: <a rel="nofollow" class="external free" href="http://profs.info.uaic.ro/~vcosmin/BD/facultate.sql">http://profs.info.uaic.ro/~vcosmin/BD/facultate.sql</a>).</li>
<li> Modificaţi interogarea de la punctul 3 astfel încât să fie afişaţi atat profesorii care nu au nici un curs alocat cât şi cursurile care nu sunt încă predate de nici un profesor (după ce aţi rulat scriptul aflat la adresa: <a rel="nofollow" class="external free" href="http://profs.info.uaic.ro/~vcosmin/BD/facultate.sql">http://profs.info.uaic.ro/~vcosmin/BD/facultate.sql</a>).</li>
<li> In tabela studenti există studenţi care s-au nascut în aceeasi zi a săptămânii. De exemplu, Cobzaru George şi Pintescu Andrei s-au născut amândoi într-o zi de marti. Construiti o listă cu studentii care s-au născut in aceeaşi zi grupându-i doi câte doi în ordine alfabetică a numelor (de exemplu in rezultat va apare combinatia Cobzaru-Pintescu dar nu va apare şi Pintescu-Cobzaru). Lista va trebui să conţină doar numele de familie a celor doi împreună cu ziua în care cei doi s-au născut. Evident, dacă există şi alţi studenti care s-au născut marti, vor apare si ei in combinatie cu cei doi amintiţi mai sus. Lista va fi ordonată în funcţie de ziua săptămânii în care s-au născut si, în cazul în care sunt mai mult de trei studenţi născuţi în aceeaşi zi, rezultatele vor fi ordonate şi după numele primei persoane din listă [pont: interogarea trebuie să returneze 10 rânduri].</li>
<li> Sa se afiseze, pentru fiecare student, numele colegilor care au luat nota mai mare ca ei la fiecare dintre cursuri. Formulati rezultatele ca propozitii (de forma "Popescu Gigel a luat nota mai mare ca Vasilescu Ionel la matera BD."). Dati un nume corespunzator coloanei [pont: interogarea trebuie să returneze 118 rânduri].</li></ol>

<!-- 
NewPP limit report
Real time usage: 0.047 seconds
Preprocessor visited node count: 45/1000000
Preprocessor generated node count: 72/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key my_wiki-WIKI_BD_:pcache:idhash:12-0!*!*!!ro!*!* and timestamp 20160216095909 and revision id 317
 -->
</div>									<div class="printfooter">
						Adus de la „<a dir="ltr" href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;oldid=317">http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;oldid=317</a>”					</div>
													<div id="catlinks" class="catlinks catlinks-allhidden"></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Meniu de navigare</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Unelte personale</h3>
						<ul>
							<li id="pt-login"><a href="http://85.122.23.37/BD/index.php?title=Special:Autentificare&amp;returnto=Laboratorul+4&amp;returntoquery=printable%3Dyes" title="Sunteți încurajat să vă autentificați, deși acest lucru nu este obligatoriu. [alt-shift-o]" accesskey="o">Autentificare</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Spații de nume</h3>
						<ul>
															<li id="ca-nstab-main" class="selected"><span><a href="http://85.122.23.37/BD/index.php/Laboratorul_4" title="Vedeți conținutul paginii [alt-shift-c]" accesskey="c">Pagină</a></span></li>
															<li id="ca-talk" class="new"><span><a href="http://85.122.23.37/BD/index.php?title=Discu%C8%9Bie:Laboratorul_4&amp;action=edit&amp;redlink=1" title="Discuții despre această pagină [alt-shift-t]" accesskey="t">Discuție</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label" tabindex="0"><span>Variante</span><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#" tabindex="-1"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Vizualizări</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="http://85.122.23.37/BD/index.php/Laboratorul_4">Lectură</a></span></li>
															<li id="ca-viewsource"><span><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;action=edit" title="Această pagină este protejată. Puteți vizualiza doar codul sursă [alt-shift-e]" accesskey="e">Sursă pagină</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;action=history" title="Versiunile anterioare ale paginii și autorii lor. [alt-shift-h]" accesskey="h">Istoric</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label" tabindex="0"><span>Mai mult</span><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;printable=yes#" tabindex="-1"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Căutare</label>
						</h3>

						<form action="http://85.122.23.37/BD/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="Căutare" title="Căutare în BD [alt-shift-f]" accesskey="f" id="searchInput" tabindex="1" autocomplete="off"><input type="hidden" value="Special:Căutare" name="title"><input type="submit" name="go" value="Salt" title="Deschide pagina cu acest nume, dacă există" id="searchButton" class="searchButton">								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="http://85.122.23.37/BD/index.php/Pagina_principal%C4%83" title="Pagina principală"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigare</h3>

			<div class="body">
									<ul>
													<li id="n-mainpage-description"><a href="http://85.122.23.37/BD/index.php/Pagina_principal%C4%83" title="Vizitați pagina principală [alt-shift-z]" accesskey="z">Pagina principală</a></li>
													<li id="n-Laborator-1"><a href="http://85.122.23.37/BD/index.php/Laboratorul_1">Laborator 1</a></li>
													<li id="n-Laborator-2"><a href="http://85.122.23.37/BD/index.php/Laboratorul_2">Laborator 2</a></li>
													<li id="n-Laborator-3"><a href="http://85.122.23.37/BD/index.php/Laboratorul_3">Laborator 3</a></li>
													<li id="n-Laborator-4"><a href="http://85.122.23.37/BD/index.php/Laboratorul_4">Laborator 4</a></li>
													<li id="n-Laborator-5"><a href="http://85.122.23.37/BD/index.php/Laboratorul_5">Laborator 5</a></li>
													<li id="n-Laborator-6"><a href="http://85.122.23.37/BD/index.php/Laboratorul_6">Laborator 6</a></li>
													<li id="n-Laborator-7"><a href="http://85.122.23.37/BD/index.php/Laboratorul_7">Laborator 7</a></li>
													<li id="n-Laborator-8"><a href="http://85.122.23.37/BD/index.php/Laboratorul_8">Laborator 8</a></li>
													<li id="n-Laborator-9"><a href="http://85.122.23.37/BD/index.php/Laboratorul_9">Laborator 9</a></li>
													<li id="n-Laborator-10"><a href="http://85.122.23.37/BD/index.php/Laboratorul_10">Laborator 10</a></li>
													<li id="n-Laborator-11"><a href="http://85.122.23.37/BD/index.php/Laboratorul_11">Laborator 11</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Unelte</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="http://85.122.23.37/BD/index.php/Special:Ce_se_leag%C4%83_aici/Laboratorul_4" title="Lista tuturor paginilor wiki care conduc spre această pagină [alt-shift-j]" accesskey="j">Ce trimite aici</a></li>
													<li id="t-recentchangeslinked"><a href="http://85.122.23.37/BD/index.php/Special:Modific%C4%83ri_corelate/Laboratorul_4" title="Schimbări recente în legătură cu această pagină [alt-shift-k]" accesskey="k">Modificări corelate</a></li>
													<li id="t-specialpages"><a href="http://85.122.23.37/BD/index.php/Special:Pagini_speciale" title="Lista tuturor paginilor speciale [alt-shift-q]" accesskey="q">Pagini speciale</a></li>
													<li id="t-permalink"><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;oldid=317" title="Legătura permanentă către această versiune a paginii">Legătură permanentă</a></li>
													<li id="t-info"><a href="http://85.122.23.37/BD/index.php?title=Laboratorul_4&amp;action=info" title="Mai multe informații despre această pagină">Informații despre pagină</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> Ultima modificare efectuată la 08:26, 28 octombrie 2015.</li>
											<li id="footer-info-copyright">Conținutul este disponibil sub <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by/3.0/">Creative Commons Atribuire</a>, exceptând cazurile în care se specifică altfel.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://85.122.23.37/BD/index.php/BD:Politica_de_confiden%C8%9Bialitate" title="BD:Politica de confidențialitate">Politica de confidențialitate</a></li>
											<li id="footer-places-about"><a href="http://85.122.23.37/BD/index.php/BD:Despre" title="BD:Despre">Despre BD</a></li>
											<li id="footer-places-disclaimer"><a href="http://85.122.23.37/BD/index.php/BD:Termeni" title="BD:Termeni">Termeni</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
															<a href="https://creativecommons.org/licenses/by/3.0/"><img src="./Laboratorul 4 - BD_files/cc-by.png" alt="Creative Commons Atribuire" width="88" height="31"></a>
													</li>
											<li id="footer-poweredbyico">
															<a href="http://www.mediawiki.org/"><img src="./Laboratorul 4 - BD_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/BD/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /BD/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"ready","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":344});
}</script>
	

<div class="suggestions" style="display: none; font-size: 13.3333px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>